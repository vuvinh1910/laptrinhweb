<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/admin/room-content.css}">
    <link rel="stylesheet" th:href="@{/css/admin/layout.css}">
    <link rel="stylesheet" th:href="@{/css/admin/service-content.css}">
    <link rel="stylesheet" th:href="@{/css/admin/customer-content.css}">
    <link rel="stylesheet" th:href="@{/css/admin/booking-room.css}">
    <link rel="stylesheet" th:href="@{/css/admin/booking-service.css}">
    <link rel="stylesheet" th:href="@{/css/admin/dashboard-content.css}">
    <link rel="stylesheet" th:href="@{/css/public/popup-login.css}">
    <script th:src="@{/js/admin-filter-room.js}" defer></script>
    <script th:src="@{/js/admin-delete-confirm.js}" defer></script>
    <script>
        var success = "[[${success}]]";
        var error = "[[${error}]]";

        document.addEventListener("DOMContentLoaded", function() {
            if (success && success !== "null") {
                alert(success);
            }
            if (error && error !== "null") {
                alert(error);
            }
        });
    </script>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <h2>Admin Panel</h2>
            <ul>
                <li><a th:href="@{/admin/dashboard}" th:classappend="${activePage == 'dashboard' ? 'active' : ''}"><i>🏠</i> Dashboard</a></li>
                <li><a th:href="@{/admin/customer}" th:classappend="${activePage == 'customer' ? 'active' : ''}"><i>👥</i> Customer</a></li>
                <li><a th:href="@{/admin/room}" th:classappend="${activePage == 'room' ? 'active' : ''}"><i>🏡</i> Room</a></li>
                <li><a th:href="@{/admin/service}" th:classappend="${activePage == 'service' ? 'active' : ''}"><i>🛠️</i> Service</a></li>
                <li><a th:href="@{/admin/booking/room}" th:classappend="${activePage == 'bookingRoom' ? 'active' : ''}"><i>📅</i> Booking Room </a></li>
                <li><a th:href="@{/admin/booking/service}" th:classappend="${activePage == 'bookingService' ? 'active' : ''}"><i>📅</i> Booking Service </a></li>
                <!-- Form đăng xuất -->
                <li>
                    <form th:action="@{/users/logout}" method="post">
                        <button type="submit" th:classappend="${activePage == 'signout' ? 'active' : ''}" style="border: none; color: inherit; cursor: pointer; font: inherit;">
                            <i>🚪</i> Sign out
                        </button>
                    </form>
                </li>
            </ul>
        </div>


        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1 th:text="${pageTitle}">Dashboard</h1>
                <div class="user-profile">
                    <span>Xin chào, Admin</span>
                    <img th:src="@{/img/admin_logo.jpg}" alt="User">
                </div>
            </div>
            <!-- Nội dung động sẽ được nhúng vào đây -->
            <div th:replace="${content} :: content"></div>
        </div>
    </div>
    <!-- Popup Xác Nhận -->
    <div id="confirmationPopup" style="display:none;">
        <p>Bạn có chắc chắn muốn xóa không? Hành động này không thể hoàn tác.</p>
        <button id="confirmDelete">Xóa</button>
        <button id="cancelDelete">Hủy</button>
    </div>
</body>
</html>