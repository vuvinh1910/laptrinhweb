<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/b-room-service.css}">
    <link rel="stylesheet" th:href="@{/css/ad-booking.css}">
    <link rel="stylesheet" th:href="@{/css/ad-header.css}">
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>

<body>
<div class="main">
    <div th:replace="admin/header :: header"></div>

    <div th:replace="admin/booking :: booking"></div>

    <div class="filter-room" style="margin-left:500px; margin-top:20px; ">
        <form method="get" th:action="@{/admin/booking/room}">
            <div>
                <label for="status">Status</label>
                <select name="status" id="status">
                    <option value="" th:selected="${selectedStatus == null}">All</option>
                    <option th:each="status : ${statuses}"
                            th:value="${status}"
                            th:text="${status}"
                            th:selected="${status == selectedStatus}">
                    </option>
                </select>
            </div>

            <div>
                <label for="isPaid">Is Paid</label>
                <select name="isPaid" id="isPaid">
                    <option value="" th:selected="${isPaid == null}">All</option>
                    <option value="true" th:selected="${isPaid == true}">Paid</option>
                    <option value="false" th:selected="${isPaid == false}">Unpaid</option>
                </select>
            </div>

            <button type="submit">Filter</button>
        </form>
    </div>

    <div th:if="${success}" class="alert alert-success" role="alert" style="margin-left:740px;color:green;">
        <p th:text="${success}"></p>
    </div>

    <div th:if="${error}" class="alert alert-danger" role="alert" style="margin-left:740px;color:red;">
        <p th:text="${error}"></p>
    </div>

    <div class="details">
        <div class="allRooms">
            <div class="cardHeader">
                <h2>All Booking Room</h2>
            </div>
            <table>
                <thead>
                <tr>
                    <th>RoomId</th>
                    <th>UserId</th>
                    <th>CheckIn</th>
                    <th>CheckOut</th>
                    <th>People</th>
                    <th>Price</th>
                    <th>IsPaid</th>
                    <th>Status</th>
                    <th>Update</th>
                    <th>Delete</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="bRoom : ${bRooms}">
                    <td th:text="${bRoom.roomId}"></td>
                    <td th:text="${bRoom.userId}"></td>
                    <td th:text="${bRoom.checkIn}"></td>
                    <td th:text="${bRoom.checkOut}"></td>
                    <td th:text="${bRoom.numOfPeople}"></td>
                    <td th:text="${bRoom.totalPrice}"></td>
                    <td th:text="${bRoom.paid}"></td>
                    <td th:text="${bRoom.status}"></td>
                    <td>
                        <button class="update-btn">
                            <a th:href="@{/admin/booking/room/update/status/{id}(id=${bRoom.id})}">Update</a>
                        </button>
                    </td>
                    <td>
                        <button class="delete-btn">
                            <a th:href="@{/admin/booking/room/delete/{id}(id=${bRoom.id})}">Delete</a>
                        </button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>

</html>
